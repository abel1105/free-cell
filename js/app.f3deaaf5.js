(function(t){function e(e){for(var a,i,c=e[0],o=e[1],d=e[2],g=0,f=[];g<c.length;g++)i=c[g],r[i]&&f.push(r[i][0]),r[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,d||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,c=1;c<n.length;c++){var o=n[c];0!==r[o]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},s=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/free-cell/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var u=o;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"131a":function(t,e,n){},"163d":function(t,e,n){var a={"./card-club-1.svg":"bf52","./card-club-10.svg":"7334","./card-club-11.svg":"f1f5","./card-club-12.svg":"4c7a","./card-club-13.svg":"8392","./card-club-2.svg":"8527","./card-club-3.svg":"f4fd","./card-club-4.svg":"7ec0","./card-club-5.svg":"a51f","./card-club-6.svg":"222f","./card-club-7.svg":"34bf","./card-club-8.svg":"9dc6","./card-club-9.svg":"d6bf","./card-diamond-1.svg":"b667","./card-diamond-10.svg":"488f","./card-diamond-11.svg":"5b74","./card-diamond-12.svg":"3670","./card-diamond-13.svg":"5b97","./card-diamond-2.svg":"88e0","./card-diamond-3.svg":"d0da","./card-diamond-4.svg":"b6ab","./card-diamond-5.svg":"ba21","./card-diamond-6.svg":"2b47","./card-diamond-7.svg":"7908","./card-diamond-8.svg":"81e1","./card-diamond-9.svg":"2ea0","./card-heart-1.svg":"38af","./card-heart-10.svg":"93af","./card-heart-11.svg":"dd57","./card-heart-12.svg":"42d7","./card-heart-13.svg":"2b09","./card-heart-2.svg":"5090","./card-heart-3.svg":"98fe","./card-heart-4.svg":"1944","./card-heart-5.svg":"3eaf","./card-heart-6.svg":"e4ba","./card-heart-7.svg":"1a22","./card-heart-8.svg":"80cf","./card-heart-9.svg":"9b79","./card-spade-1.svg":"bec9","./card-spade-10.svg":"1c6b","./card-spade-11.svg":"886a","./card-spade-12.svg":"e4e4","./card-spade-13.svg":"c2a7","./card-spade-2.svg":"37e6","./card-spade-3.svg":"43f6","./card-spade-4.svg":"9e06","./card-spade-5.svg":"8043","./card-spade-6.svg":"1b20","./card-spade-7.svg":"e11d","./card-spade-8.svg":"e97f","./card-spade-9.svg":"9e12"};function r(t){var e=s(t);return n(e)}function s(t){var e=a[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}r.keys=function(){return Object.keys(a)},r.resolve=s,t.exports=r,r.id="163d"},1944:function(t,e,n){t.exports=n.p+"img/card-heart-4.f62df5d4.svg"},"1a22":function(t,e,n){t.exports=n.p+"img/card-heart-7.218f6f59.svg"},"1b20":function(t,e,n){t.exports=n.p+"img/card-spade-6.2a8d55cb.svg"},"1c6b":function(t,e,n){t.exports=n.p+"img/card-spade-10.eb0d6568.svg"},"222f":function(t,e,n){t.exports=n.p+"img/card-club-6.e928144e.svg"},"2b09":function(t,e,n){t.exports=n.p+"img/card-heart-13.bacb9544.svg"},"2b47":function(t,e,n){t.exports=n.p+"img/card-diamond-6.6f59a9fc.svg"},"2b8f":function(t,e,n){"use strict";var a=n("131a"),r=n.n(a);r.a},"2ea0":function(t,e,n){t.exports=n.p+"img/card-diamond-9.cfc34fce.svg"},"34bf":function(t,e,n){t.exports=n.p+"img/card-club-7.53ca1f7d.svg"},3670:function(t,e,n){t.exports=n.p+"img/card-diamond-12.c9c48e3e.svg"},"37e6":function(t,e,n){t.exports=n.p+"img/card-spade-2.3bd0db0a.svg"},"38af":function(t,e,n){t.exports=n.p+"img/card-heart-1.80db9eed.svg"},"3a2b":function(t,e,n){"use strict";var a=n("c194"),r=n.n(a);r.a},"3eaf":function(t,e,n){t.exports=n.p+"img/card-heart-5.ddd959b2.svg"},"42d7":function(t,e,n){t.exports=n.p+"img/card-heart-12.54773fe7.svg"},"43f6":function(t,e,n){t.exports=n.p+"img/card-spade-3.c2cdcc8f.svg"},"488f":function(t,e,n){t.exports=n.p+"img/card-diamond-10.ae34b846.svg"},"4c7a":function(t,e,n){t.exports=n.p+"img/card-club-12.78d3aa29.svg"},5090:function(t,e,n){t.exports=n.p+"img/card-heart-2.4c4e2b1c.svg"},"51bd":function(t,e,n){"use strict";var a=n("b2ec"),r=n.n(a);r.a},5588:function(t,e,n){"use strict";var a=n("f24d"),r=n.n(a);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=n("0284"),s=n.n(r),i=n("9c30"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],d=(n("5c0b"),n("2877")),u={},g=Object(d["a"])(u,c,o,!1,null,null,null),f=g.exports,l=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("Playground")],1)},m=[],v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header",{attrs:{undo:t.undo,time:t.time,pause:t.stopClock,restart:t.restart}}),n("div",{staticClass:"playground"},[n("div",{staticClass:"playground-container"},[t._l(t.CARD_TYPES,function(t,e){return[n("CardFoundation",{key:"foundation_"+e,attrs:{type:t}})]}),t._l(t.reserve,function(e,a){return[n("CardReserve",{key:"reserve_"+a,attrs:{index:a,stack:e,"on-change":t.onChange}})]}),t._l(t.stacks,function(e,a){return[n("CardStack",{key:"stack_"+a,attrs:{index:a,stack:e,"on-change":t.onChange}})]})],2)])],1)},h=[],b=n("2ef0"),x=n.n(b),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"playground-holder",class:{"playground-holder--card":t.stack[0].items.length>0}},[n("Card",{attrs:{index:-1,list:t.stack,stackIndex:t.index,"is-clear":0===t.stack[0].items.length,"on-change":t.onChange}})],1)},C=[],k=(n("c5f6"),{name:"CardStack",props:{index:{type:Number,default:null},stack:{type:Array,default:null},onChange:{type:Function,default:function(){}}}}),_=k,$=Object(d["a"])(_,y,C,!1,null,"15cd3e2c",null),O=$.exports,I=function(t,e){var n=t.type,a=t.number,r=e.type,s=e.number;return s===a-1&&L(n,r)},L=function(t,e){return"spade"===t||"club"===t?"diamond"===e||"heart"===e:"spade"===e||"club"===e},w=function t(e){var n=e[0];if(n&&n.items&&n.items.length){var a=t(n.items);return!(!a||!I(n,n.items[0]))}return!0},D=["spade","heart","club","diamond"],E=function(){var t=[];D.forEach(function(e){for(var n=1;n<=13;n++)t.push({type:e,number:n})});var e=x.a.shuffle(t),n=x.a.flatten(x.a.chunk(e,28).map(function(t,e){return x.a.chunk(t,0===e?7:6)}));return n.map(function(t){return[{items:S(t)}]})},S=function t(e){var n=[];return e.length&&(n.push(e.shift()),n[0].items=t(e)),n},N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"playground-reserve",class:{"playground-reserve--card":t.stack[0].items.length>0}},[n("Card",{attrs:{index:-1,list:t.stack,stackIndex:t.index,"is-reserve":!0,"on-change":t.onChange}})],1)},F=[],j={name:"CardReserve",props:{index:{type:Number,default:null},stack:{type:Array,default:null},onChange:{type:Function,default:function(){}}}},T=j,R=(n("c29c"),Object(d["a"])(T,N,F,!1,null,"1d4621da",null)),P=R.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"playground-foundation",class:{"playground-foundation--card":0!==t.number},attrs:{id:"foundation_"+this.type}},[t.number?n("img",{attrs:{src:t.url}}):t._e()])},B=[],A={name:"CardFoundation",props:{type:{type:String,default:null}},computed:{number:function(){return this.$store.state.foundation[this.type]},url:function(){return n("163d")("./card-".concat(this.type,"-").concat(this.number,".svg"))}}},U=A,J=(n("51bd"),Object(d["a"])(U,M,B,!1,null,"2d627184",null)),H=J.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("div",{staticClass:"header-container"},[t._m(0),n("h1",{staticClass:"header-timer"},[t._v(t._s(t.clock))]),n("div",{staticClass:"header-action"},[n("div",{staticClass:"header-actionIcon",on:{click:t.undo}},[n("md-icon",[t._v("undo")]),t._v("\n        UNDO\n      ")],1),n("div",{staticClass:"header-actionIcon",on:{click:t.pause}},[n("md-icon",[t._v("pause")]),t._v("\n        PAUSE\n      ")],1),n("div",{staticClass:"header-actionIcon",on:{click:t.restart}},[n("md-icon",[t._v("autorenew")]),t._v("\n        RESTART\n      ")],1)])])])},Y=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",{staticClass:"header-logo"},[n("span",[t._v("FREE")]),n("span",{staticClass:"header-logoEnd"},[t._v("CELL")])])}],q=(n("f576"),{name:"Header",props:{undo:{type:Function,default:function(){}},pause:{type:Function,default:function(){}},restart:{type:Function,default:function(){}},time:{type:Number,default:0}},computed:{clock:function(){return"".concat(x.a.padStart(Math.floor(this.time/60),2,"0"),":").concat(x.a.padStart(this.time%60,2,"0"))}}}),z=q,G=(n("2b8f"),Object(d["a"])(z,V,Y,!1,null,"76a0aeaf",null)),K=G.exports,Q={name:"Playground",components:{Header:K,CardFoundation:H,CardReserve:P,CardStack:O},data:function(){return{reserve:[[{items:[]}],[{items:[]}],[{items:[]}],[{items:[]}]],stacks:E(),isNewLog:!0,time:0,timer:null}},mounted:function(){this.onChange()},computed:{CARD_TYPES:function(){return D}},methods:{startClock:function(){var t=this;this.timer||(this.timer=setInterval(function(){t.time=t.time+1},1e3))},stopClock:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},onChange:x.a.debounce(function(){this.startClock(),this.isNewLog=!0,this.$store.commit("addLog",JSON.stringify(this.$data))},400),undo:function(){var t=this.$store.getters.lastLog;if(!t)return!1;this.$store.commit("setLog",{foundation:JSON.parse(t.foundation)});var e=JSON.parse(t.data),n=e.reserve,a=e.stacks;this.reserve=n,this.stacks=a,this.isNewLog&&(this.isNewLog=!1,this.undo(),this.onChange())},restart:function(){var t=this;this.stopClock(),this.reserve=[[{items:[]}],[{items:[]}],[{items:[]}],[{items:[]}]],this.stacks=E(),this.isNewLog=!0,this.time=0,this.timer=null,this.$store.commit("restart"),this.$nextTick(function(){t.onChange()})}}},W=Q,X=(n("3a2b"),Object(d["a"])(W,v,h,!1,null,null,null)),Z=X.exports,tt={name:"home",components:{Playground:Z}},et=tt,nt=Object(d["a"])(et,p,m,!1,null,null,null),at=nt.exports;a["default"].use(l["a"]);var rt=new l["a"]({mode:"hash",base:"/free-cell/",routes:[{path:"/",name:"home",component:at}]}),st=n("2f62");a["default"].use(st["a"]);var it=new st["a"].Store({state:{foundation:{spade:0,diamond:0,club:0,heart:0},isLock:!1,isDragging:!1,log:[]},getters:{lastLog:function(t){return t.log[t.log.length-1]}},mutations:{toggleIsLock:function(t){t.isLock=!t.isLock},toggleIsDragging:function(t){t.isDragging=!t.isDragging},setFoundation:function(t,e){t.foundation[e]+=1},addLog:function(t,e){t.log.push({foundation:JSON.stringify(t.foundation),data:e})},setLog:function(t,e){var n=e.foundation;t.log.pop(),t.foundation=n},restart:function(t){t.log=[],t.foundation={spade:0,diamond:0,club:0,heart:0}}},actions:{}}),ct=(n("51de"),n("f5df"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("draggable",{staticClass:"card-wrapper",class:{"card-wrapper--first":0===t.index,"card-wrapper--last":0===t.list.length&&(t.isDragging||t.onDragging),"card-wrapper--drag":t.onDragging},style:{"padding-top":t.getTop},attrs:{"data-index":t.index,"data-isReserve":t.isReserve,"data-isClear":t.isClear,"data-stackIndex":t.stackIndex,"data-parentType":t.parentType,"data-parentNumber":t.parentNumber,"ghost-class":"card--ghost",group:"list",list:t.list,tag:"ul",disabled:t.isLock||!t.isDraggable,"fallback-tolerance":10,move:t.move},on:{start:t.dragStart,end:t.dragEnd,change:t.onChange}},t._l(t.list,function(e,a){return n("li",{key:a,staticClass:"card",class:{"card--last":!t.isMoreCardBehind}},[e.number?[t.isLastOne?n("img",{ref:"cardImg",refInFor:!0,staticClass:"card-img",class:{"card-img--noDrag":!t.isDraggable},attrs:{src:t.getImgUrl(e)}}):n("div",{staticClass:"card-imgBg",class:{"card-img--noDrag":!t.isDraggable}},[n("img",{attrs:{src:t.getImgUrl(e)}})])]:t._e(),t.isMoreCardBehind?n("Card",{attrs:{index:t.index+1,list:e.items,"parent-type":e.type,"parent-number":e.number,"stack-index":t.stackIndex,"is-reserve":t.isReserve,"is-clear":t.isClear,"on-change":t.onChange}}):t._e()],2)}),0)}),ot=[],dt=n("310e"),ut=n.n(dt),gt={name:"Card",components:{draggable:ut.a},data:function(){return{onDragging:!1}},props:{list:{required:!1,type:Array,default:null},index:{type:Number,default:0},stackIndex:{type:Number,default:null},parentType:{type:String,default:null},parentNumber:{type:Number,default:null},isReserve:{type:Boolean,default:!1},isClear:{type:Boolean,default:!1},onChange:{type:Function,default:function(){}}},mounted:function(){this.checkFoundation()},updated:function(){this.checkFoundation()},watch:{foundationValue:function(){this.checkFoundation()}},computed:{isLastOne:function(){return!(!this.list.length||!this.list[0]||0!==this.list[0].items.length)},isMoreCardBehind:function(){return!!this.list[0]&&!!this.list[0].items},getTop:function(){return 0!==this.list.length&&this.list[0].items.items?0:"".concat(25*this.index,"px")},isDraggable:function(){return w(this.list)},isDragging:function(){return this.$store.state.isDragging},isLock:function(){return this.$store.state.isLock},foundationValue:function(){return this.list[0]?this.$store.state.foundation[this.list[0].type]:null}},methods:{getImgUrl:function(t){return n("163d")("./card-".concat(t.type,"-").concat(t.number,".svg"))},dragStart:function(){this.onDragging=!0,this.$store.commit("toggleIsDragging")},dragEnd:function(){this.onDragging=!1,this.$store.commit("toggleIsDragging")},move:function(t){var e=t.draggedContext,n=e.element,a=e.futureIndex,r=t.relatedContext,s=r.list,i=r.component,c=i.$attrs;if(c["data-isClear"])return 13===n.number;if(s[0]===n)return!0;if(c["data-isReserve"])return(!n.items||0===n.items.length)&&(0===s.length&&!c["data-parentType"]);if(0!==a)return!1;if(0!==s.length)return!1;var o={type:c["data-parentType"],number:c["data-parentNumber"]};return!!I(o,n)&&void 0},checkFoundation:function(){var t=this;if(this.isLastOne&&this.list[0]){var e=this.list[0],n=e.type,a=e.number;if(!this.isLock&&this.$store.state.foundation[n]+1===a&&this.$refs.cardImg[0]){this.$store.commit("toggleIsLock");var r=this.$refs.cardImg[0].getBoundingClientRect(),s=r.x,i=r.y,c=document.getElementById("foundation_".concat(n)).getBoundingClientRect(),o=c.x,d=c.y;this.$refs.cardImg[0].style.transform="translate(".concat(o-s,"px, ").concat(d-i,"px)"),setTimeout(function(){t.list.splice(0,1),t.$store.commit("toggleIsLock"),t.$store.commit("setFoundation",n)},500)}}}}},ft=gt,lt=(n("5588"),Object(d["a"])(ft,ct,ot,!1,null,"4699463e",null)),pt=lt.exports;a["default"].config.productionTip=!1,a["default"].use(i["MdIcon"]),a["default"].component("Card",pt),a["default"].use(s.a,{id:"UA-142485991-1",router:rt}),new a["default"]({router:rt,store:it,render:function(t){return t(f)}}).$mount("#app")},"5b74":function(t,e,n){t.exports=n.p+"img/card-diamond-11.3ff5f16b.svg"},"5b97":function(t,e,n){t.exports=n.p+"img/card-diamond-13.9406f24e.svg"},"5c0b":function(t,e,n){"use strict";var a=n("5e27"),r=n.n(a);r.a},"5e27":function(t,e,n){},"5e8b":function(t,e,n){},7334:function(t,e,n){t.exports=n.p+"img/card-club-10.289b0595.svg"},7908:function(t,e,n){t.exports=n.p+"img/card-diamond-7.129d60bc.svg"},"7ec0":function(t,e,n){t.exports=n.p+"img/card-club-4.15c24ac7.svg"},8043:function(t,e,n){t.exports=n.p+"img/card-spade-5.e4fcf999.svg"},"80cf":function(t,e,n){t.exports=n.p+"img/card-heart-8.4898e40a.svg"},"81e1":function(t,e,n){t.exports=n.p+"img/card-diamond-8.7ecf3ef7.svg"},8392:function(t,e,n){t.exports=n.p+"img/card-club-13.bc58af54.svg"},8527:function(t,e,n){t.exports=n.p+"img/card-club-2.975ace6b.svg"},"886a":function(t,e,n){t.exports=n.p+"img/card-spade-11.4ff9e362.svg"},"88e0":function(t,e,n){t.exports=n.p+"img/card-diamond-2.e8de0162.svg"},"93af":function(t,e,n){t.exports=n.p+"img/card-heart-10.66ba4937.svg"},"98fe":function(t,e,n){t.exports=n.p+"img/card-heart-3.59a74fea.svg"},"9b79":function(t,e,n){t.exports=n.p+"img/card-heart-9.fa39481d.svg"},"9dc6":function(t,e,n){t.exports=n.p+"img/card-club-8.ddcc913e.svg"},"9e06":function(t,e,n){t.exports=n.p+"img/card-spade-4.1440d878.svg"},"9e12":function(t,e,n){t.exports=n.p+"img/card-spade-9.c28b6442.svg"},a51f:function(t,e,n){t.exports=n.p+"img/card-club-5.004cf2fb.svg"},b2ec:function(t,e,n){},b667:function(t,e,n){t.exports=n.p+"img/card-diamond-1.97ec09d8.svg"},b6ab:function(t,e,n){t.exports=n.p+"img/card-diamond-4.506df3c6.svg"},ba21:function(t,e,n){t.exports=n.p+"img/card-diamond-5.71ee6635.svg"},bec9:function(t,e,n){t.exports=n.p+"img/card-spade-1.98dccc32.svg"},bf52:function(t,e,n){t.exports=n.p+"img/card-club-1.400ad2a2.svg"},c194:function(t,e,n){},c29c:function(t,e,n){"use strict";var a=n("5e8b"),r=n.n(a);r.a},c2a7:function(t,e,n){t.exports=n.p+"img/card-spade-13.8995fbd4.svg"},d0da:function(t,e,n){t.exports=n.p+"img/card-diamond-3.87ef9e13.svg"},d6bf:function(t,e,n){t.exports=n.p+"img/card-club-9.2f97ffab.svg"},dd57:function(t,e,n){t.exports=n.p+"img/card-heart-11.d8d81aa3.svg"},e11d:function(t,e,n){t.exports=n.p+"img/card-spade-7.b097a7f4.svg"},e4ba:function(t,e,n){t.exports=n.p+"img/card-heart-6.7bb5af28.svg"},e4e4:function(t,e,n){t.exports=n.p+"img/card-spade-12.f542c3a0.svg"},e97f:function(t,e,n){t.exports=n.p+"img/card-spade-8.f3968bab.svg"},f1f5:function(t,e,n){t.exports=n.p+"img/card-club-11.9048ec61.svg"},f24d:function(t,e,n){},f4fd:function(t,e,n){t.exports=n.p+"img/card-club-3.51f5f7ba.svg"}});
//# sourceMappingURL=app.f3deaaf5.js.map